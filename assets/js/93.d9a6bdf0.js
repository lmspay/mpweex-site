(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{249:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("在执行以下步骤之前，请先确认您的Android开发环境是ok的。")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.oracle.com/technetwork/java/javase/downloads/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("JAVA环境, jdk7+"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.android.com/training/basics/firstapp/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android Studio"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.android.com/ndk/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NDK r16"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://cmake.org/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cmake 3.9.0+"),a("OutboundLink")],1),t._v(" (可选项：如果需要编译WEEX源码，需要NDK环境支持)")])]),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("根目录下的build.gradle文件下加入软件仓库")]),t._v(" "),t._m(2),t._m(3),t._v(" "),a("p",[t._v("目前暂不支持androidx")]),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),a("p",[t._v("混淆规则如下")]),t._v(" "),t._m(20),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._m(24),t._v(" "),a("p",[t._v("APP商户入驻成功后，系统会分配APPID和白盒密码算法密钥mpweex.bmp\n将mpweex.bmp放置项目的asserts目录")]),t._v(" "),t._m(25),t._m(26),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/lmspay/mpweex-demo/blob/master/MPWeexAndroid/app/src/main/java/com/lmspay/mpweexsdk/App.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("DEMO初始化源码"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("router-link",{attrs:{to:"./../extend/extend-android.html"}},[t._v("其它扩展配置看这里")])],1)]),t._v(" "),t._m(27),t._v(" "),a("p",[t._v("推荐使用Glide框架实现图片加载。如果自定义图片加载，则需要实现IWXImgLoaderAdapter")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"https://github.com/lmspay/mpweex-demo/blob/master/MPWeexAndroid/app/src/main/java/com/lmspay/mpweexsdk/mpweex/GlideImageAdapter.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("GlideImageAdapter"),a("OutboundLink")],1)]),t._v(" "),t._m(28),t._v(" "),a("p",[t._v("推荐使高德定位，如果自定义定位加载，则需要实现IWXGeoAdapter")]),t._v(" "),a("p",[t._v("参见："),a("a",{attrs:{href:"https://github.com/lmspay/mpweex-demo/blob/master/MPWeexAndroid/app/src/main/java/com/lmspay/mpweexsdk/mpweex/AmapGeoAdapter.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("AmapGeoAdapter"),a("OutboundLink")],1)]),t._v(" "),t._m(29),t._v(" "),a("p",[t._v("APP内，如果要完全支持小程序功能，用户需要在小程序平台进行登录信息同步。在用户登录成功时，调用此接口。")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._m(33),t._v(" "),t._m(34),t._m(35),t._v(" "),a("p",[t._v("APP内，如果退出登录了，需要调用此接口通知SDK，以进行登录状态的同步。")]),t._v(" "),t._m(36),t._m(37),t._v(" "),t._m(38),t._m(39),t._v(" "),a("p",[t._v("因为大部分小程序都是需要用户登录后，才可以访问的，故需要APP实现IWXUserInfoAdapter告之小程序SDK，用户是否已登录成功。")]),t._v(" "),t._m(40),t._v(" "),a("p",[t._v("接口示例：")]),t._v(" "),t._m(41),t._m(42),t._v(" "),t._m(43),t._m(44),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("在APP中，可通过MPID跳转到指定的小程序。")]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._m(48),t._v(" "),t._m(49),t._m(50),t._v(" "),a("p",[t._v("在APP中，可通过SDK跳转到指定的小程序页面。")]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._m(53),t._v(" "),t._m(54),t._m(55),t._v(" "),t._m(56)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"集成-mpweex-到-android"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成-mpweex-到-android","aria-hidden":"true"}},[this._v("#")]),this._v(" 集成 MPWeex 到 Android")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-增加软件仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-增加软件仓库","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. 增加软件仓库")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("allprojects {\n    repositories {\n        google()\n        jcenter()\n        \n        maven {\n            url 'http://dev.txmpay.com:18081/repository/maven-public/'\n            name 'nexus'\n            credentials {\n                username = \"\"\n                password = \"\"\n            }\n        }\n    }\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-设置gradle依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置gradle依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 设置gradle依赖")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('dependencies {\n    ...\n    // 修改为app版本，建议为28+\n    implementation "com.android.support:recyclerview-v7:28.0.0"\n    implementation "com.android.support:support-v4:28.0.0"\n    implementation "com.android.support:appcompat-v7:28.0.0"\n    implementation "com.android.support:gridlayout-v7:28.0.0"\n    implementation "com.android.support:design:28.0.0"\n\n    // mpweex sdk 必须的依赖\n    implementation "com.lmspay.mpweex:mpweex_sdk:0.28.1.1"\n    implementation "com.lmspay.unionpay:unionpay:0.1.1"\n    implementation "com.aliyun.dpa:oss-android-sdk:2.9.2"\n    implementation "com.alibaba:fastjson:1.2.68"\n    implementation "com.contrarywind:Android-PickerView:4.1.6"\n    implementation "net.yiim.yismcore:yismcore:1.0.4"\n\n    //glide 修改为app的图片加载库\n    implementation \'com.github.bumptech.glide:glide:3.7.0\'\n    implementation \'com.github.bumptech.glide:okhttp3-integration:1.4.0@aar\'\n    implementation \'com.squareup.okhttp3:okhttp:3.11.0\'\n    \n    //定位功能 可选\n    implementation \'com.amap.api:location:4.7.2\'\n}\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3-解决ndk-c-库冲突"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-解决ndk-c-库冲突","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 解决NDK C++库冲突")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果工程内有引用"),s("code",[this._v("c++_shared")]),this._v("库，则可以在工程内添加以下配置，解决冲突，因为SDK内已经有相应的库文件了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("android {\n    // 过滤多余的动态库\n    packagingOptions {\n        pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n        pickFirst 'lib/arm64-v8a/libc++_shared.so'\n        pickFirst 'lib/x86/libc++_shared.so'\n    }\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4-配置debug参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置debug参数","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. 配置debug参数")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("debug 中用到的txm_test.jks及mpweex.bmp仅用于APP集成初期使用\nAPP在小程序平台入网后，需要使用APP打包发布时的JKS及新生成的mpweex.bmp")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-1-配置debug的应用签名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-配置debug的应用签名","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1 配置Debug的应用签名")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_4-1-1-修改gradle-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-修改gradle-properties","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1.1 修改gradle.properties")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("DEBUG_KEY_ALIAS =android\nDEBUG_KEY_PASSWORD =android\nDEBUG_STORE_FILE =txm_test.jks\nDEBUG_STORE_PASSWORD =android\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_4-1-2-修改build-gradle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-修改build-gradle","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1.2 修改build.gradle")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('android {\n    compileSdkVersion 28\n    buildToolsVersion "28.0.3"\n\n    signingConfigs {\n        debug {\n            keyAlias DEBUG_KEY_ALIAS\n            keyPassword DEBUG_KEY_PASSWORD\n            storeFile file(DEBUG_STORE_FILE)\n            storePassword DEBUG_STORE_PASSWORD\n        }\n    }\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_4-1-3-txm-test-jks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-3-txm-test-jks","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1.3 txm_test.jks")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可将Demo工程"),s("code",[this._v("app")]),this._v("目录内的txm_test.jks放置在工程"),s("code",[this._v("app")]),this._v("目录下。如果放至其它目录，则需要修改gradle.properties配置中的DEBUG_STORE_FILE路径")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4-2-配置debug的白盒密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-配置debug的白盒密码","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2 配置Debug的白盒密码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可将Demo工程"),s("code",[this._v("app/src/main/assets")]),this._v("目录下的mpweex.bmp文件拷贝到工程对应目录下。release时，需要替换成正式的mpweex.bmp，APP入网后会提供。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_5-配置混淆规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置混淆规则","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. 配置混淆规则")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("# weex\n-keep class org.apache.weex.bridge.**{*;}\n-keep class org.apache.weex.dom.**{*;}\n-keep class org.apache.weex.layout.**{*;}\n-keep class org.apache.weex.base.**{*;}\n-keep class org.apache.weex.common.**{*;}\n-keep class * implements org.apache.weex.IWXObject{*;}\n-keep class org.apache.weex.ui.**{*;}\n-keep class org.apache.weex.ui.component.**{*;}\n-keep class org.apache.weex.utils.**{\n    public <fields>;\n    public <methods>;\n    }\n-keepclassmembers class * {\n    @org.apache.weex.annotation.JSMethod *;\n}\n\n-keep class org.apache.weex.base.SystemMessageHandler { *; }\n-dontwarn org.apache.weex.bridge.**\n\n# mpweex\n-keep class com.lmspay.zq.widget.indicators.**{*;}\n-keep class com.lmspay.zq.model.**{*;}\n\n# fastjosn\n-keep class com.alibaba.fastjson.** {\n *;\n}\n-dontwarn com.alibaba.fastjson.**\n\n## --- yismcore ---\n-keep class net.yiim.yismcore.** {\n    public *;\n    native <methods>;\n}\n\n# 不混淆银联\n-keep class com.unionpay.** {*;}\n-keep interface com.unionpay.** {*;}\n-keep class cn.gov.pbc.tsm.** {*;}\n-keep interface cn.gov.pbc.tsm.** {*;}\n-keep class org.simalliance.openmobileapi.** {*;}\n-dontwarn com.unionpay.**\n-dontwarn cn.gov.pbc.tsm.**\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_6-声明权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-声明权限","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. 声明权限")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在"),s("code",[this._v("AndroidManifest.xml")]),this._v("中声明权限")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 振动 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.VIBRATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 请求网络 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.INTERNET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 写入扩展存储，向扩展卡写入数据，用于写入缓存定位数据 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.WRITE_EXTERNAL_STORAGE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 读取缓存数据 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.READ_EXTERNAL_STORAGE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 调起系统电话 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.CALL_PHONE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 获取运营商信息，用于支持提供运营商信息相关的接口 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.ACCESS_NETWORK_STATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 用于访问wifi网络信息，wifi信息会用于进行网络定位 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.ACCESS_WIFI_STATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--摄像头--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.CAMERA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.FLASHLIGHT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--定位--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.ACCESS_COARSE_LOCATION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.ACCESS_FINE_LOCATION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_7-初始化sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-初始化sdk","aria-hidden":"true"}},[this._v("#")]),this._v(" 7. 初始化sdk")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBasePath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mpweex api host"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAppId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your mpweex appid."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化mpweex")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InitConfig")]),t._v(" initConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InitConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Builder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEBUG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("初始化顺序，setAppId必须在initialize前面，否则容易引起偶发性闪退")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_8-扩展图片加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-扩展图片加载","aria-hidden":"true"}},[this._v("#")]),this._v(" 8. 扩展图片加载")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_9-扩展定位（可选）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-扩展定位（可选）","aria-hidden":"true"}},[this._v("#")]),this._v(" 9. 扩展定位（可选）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_10-登录信息同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-登录信息同步","aria-hidden":"true"}},[this._v("#")]),this._v(" 10. 登录信息同步")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("此接口是幂等的，可重复调用，平台内只会进行一次用户信息登记。后续调用平台将会进行用户资料的同步操作。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("接口描述")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("/**\n * 登录成功后，将用户信息同步至小程序平台\n * 则操作为异步操作，如果需要监听SDK是否已经完成，可以通过callback监听\n *\n * @param platformuid APP商户应用的用户ID\n * @param phoneno 手机号码\n * @param callback 异步回调，如果需要等待SDK完成，则可通过回调监听\n */\npublic void onLogin(String platformuid,\n                    String phoneno,\n                    final MPWeexSDK.ResponseCallback callback);\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("DEMO")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLogin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your app user identity"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your app user phone number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResponseCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" ok"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" statusCode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// your code if needed.")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_11-退出登录通知接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-退出登录通知接口","aria-hidden":"true"}},[this._v("#")]),this._v(" 11. 退出登录通知接口")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 退出登录时，通知SDK\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLogout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("DEMO")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通知SDK退出登录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLogout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_12-判断app用户是否登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-判断app用户是否登录","aria-hidden":"true"}},[this._v("#")]),this._v(" 12. 判断APP用户是否登录")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("主要实现ensureLogged，getUserInfo忽略")]),this._v(" "),s("p",[this._v("此适配器主要用于APP定制登录跳转或友好提示。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserInfoAdpater")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IWXUserInfoAdapter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WXUserInfoModel")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Activity")]),t._v(" activity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// deprecated, ignore it.")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * 用于判断APP用户是否已登录，请将方法内逻辑替换为APP判断用户是否已登录的逻辑。\n     * @param activity 上下文\n     * @return true if logged.\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensureLogged")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Activity")]),t._v(" activity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用户已登录则返回true")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果未登录，则跳转至登录界面，返回false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//        if( ! logged ) {")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            // 跳转至登录页或弹toast进行提示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            Intent intent = new Intent(activity, LoginActivity.class);")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            activity.startActivity(intent);")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//            return false;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//        }")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_12-1-修改初始化参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-修改初始化参数","aria-hidden":"true"}},[this._v("#")]),this._v(" 12.1 修改初始化参数")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化mpweex")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InitConfig")]),t._v(" initConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InitConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Builder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImgAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GlideImageAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setGeoAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AmapGeoAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setUserInfoAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserInfoAdpater")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initialize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BuildConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DEBUG"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_13-sdk其它api使用方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-sdk其它api使用方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 13. SDK其它API使用方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_13-1-跳转至指定小程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-跳转至指定小程序","aria-hidden":"true"}},[this._v("#")]),this._v(" 13.1 跳转至指定小程序")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("/**\n * 跳转至小程序\n * @param context Context上下文\n * @param mpid 小程序ID\n * @param logo 小程序图标\n * @param systemType 小程序系统类型 0 宿主 1普通 2游戏\n * @param canOffline 是否支持离线访问 0不支持 1支持，不支持离线访问的，需要先登录\n */\npublic void jumpToMP(Activity context, String mpid, \n    String logo, int systemType, int canOffline);\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("调用示例")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jumpToMP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MainActivity")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MPAAABa7vz87hIvbIAq1lG"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MPID")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"images/AAFLlQAAAWzlpHpnAgI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MPID LOGO")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MPID TYPE，默认1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否支持离线访问")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_13-2-跳转至指定页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-跳转至指定页面","aria-hidden":"true"}},[this._v("#")]),this._v(" 13.2 跳转至指定页面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("接口")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("/**\n * 跳转到指定页面\n * @param activity 上下文\n * @param page 指定页面\n */\npublic void jumpToPage(Activity activity, MPPage page);\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("页面参数")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("enum MPPage {\n    PAGE_INDEX, // 小程序主页\n    PAGE_RECENT, // 最近使用\n    PAGE_MYMP, // 我的小程序\n    PAGE_RECOMMEND, // 推荐的\n    PAGE_SEARCH; // 搜索\n}\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("调用示例")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jumpToPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPWeexSDK")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MPPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PAGE_INDEX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);s.default=e.exports}}]);